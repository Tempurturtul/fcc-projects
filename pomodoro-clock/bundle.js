(function () {
'use strict';

function leftPad(string, spaces, character) {
	if ( character === void 0 ) character = ' ';

	var stringCopy = string;

	if (typeof stringCopy !== 'string') {
		stringCopy = String(stringCopy);
	}

	while (stringCopy.length < spaces) {
		stringCopy = character + stringCopy;
	}

	return stringCopy;
}

/* eslint-disable no-alert */

var clockElem = document.querySelector('.pomodoro-clock');
var clockDisplayElem = clockElem.querySelector('.pomodoro-clock__display');
var clockToggleButtonElem = clockElem.querySelector('.pomodoro-clock__toggle-button');
var clockResetButtonElem = clockElem.querySelector('.pomodoro-clock__reset-button');
var clockSettingsElem = clockElem.querySelector('.settings');
var workDurationElem = clockSettingsElem.querySelector('#work-duration');

var startTime = workDurationElem.value * 60;
var time = startTime;
var ticking = false;
var tickIntervalID;

init();

function init() {
	// Remove no-js classes.
	clockElem.classList.remove('pomodoro-clock--no-js');

	renderTime();

	// Add event listeners.
	clockToggleButtonElem.addEventListener('click', toggle);
	clockResetButtonElem.addEventListener('click', reset);
	clockSettingsElem.addEventListener('submit', handleSettingsFormSubmit);
	workDurationElem.addEventListener('change', handleWorkDurationChange);
}

function renderTime() {
	// m:ss
	var timeString = (Math.floor(time / 60)) + ":" + (leftPad(time % 60, 2, 0));

	clockDisplayElem.innerHTML = timeString;
}

function start() {
	clockToggleButtonElem.innerHTML = 'Pause';
	ticking = true;
	tick();
	tickIntervalID = window.setInterval(tick, 1000);
}

function pause() {
	clockToggleButtonElem.innerHTML = 'Start';
	ticking = false;
	window.clearInterval(tickIntervalID);
}

function reset() {
	pause();
	time = startTime;
	renderTime();
}

function end() {
	reset();
	alert(((startTime / 60) + " minutes elapsed!"));
}

function tick() {
	time -= 1;

	renderTime();

	if (time <= 0) {
		end();
	}
}

function toggle() {
	if (ticking) {
		pause();
	} else {
		start();
	}
}

function handleSettingsFormSubmit(e) {
	e.preventDefault();
}

function handleWorkDurationChange() {
	startTime = workDurationElem.value * 60;
	reset();
}

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlcyI6WyIuLi9zcmMvbGVmdC1wYWQuanMiLCIuLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gbGVmdFBhZChzdHJpbmcsIHNwYWNlcywgY2hhcmFjdGVyID0gJyAnKSB7XG5cdGxldCBzdHJpbmdDb3B5ID0gc3RyaW5nO1xuXG5cdGlmICh0eXBlb2Ygc3RyaW5nQ29weSAhPT0gJ3N0cmluZycpIHtcblx0XHRzdHJpbmdDb3B5ID0gU3RyaW5nKHN0cmluZ0NvcHkpO1xuXHR9XG5cblx0d2hpbGUgKHN0cmluZ0NvcHkubGVuZ3RoIDwgc3BhY2VzKSB7XG5cdFx0c3RyaW5nQ29weSA9IGNoYXJhY3RlciArIHN0cmluZ0NvcHk7XG5cdH1cblxuXHRyZXR1cm4gc3RyaW5nQ29weTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbGVmdFBhZDtcbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLWFsZXJ0ICovXG5cbmltcG9ydCBsZWZ0UGFkIGZyb20gJy4vbGVmdC1wYWQnO1xuXG5jb25zdCBjbG9ja0VsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9tb2Rvcm8tY2xvY2snKTtcbmNvbnN0IGNsb2NrRGlzcGxheUVsZW0gPSBjbG9ja0VsZW0ucXVlcnlTZWxlY3RvcignLnBvbW9kb3JvLWNsb2NrX19kaXNwbGF5Jyk7XG5jb25zdCBjbG9ja1RvZ2dsZUJ1dHRvbkVsZW0gPSBjbG9ja0VsZW0ucXVlcnlTZWxlY3RvcignLnBvbW9kb3JvLWNsb2NrX190b2dnbGUtYnV0dG9uJyk7XG5jb25zdCBjbG9ja1Jlc2V0QnV0dG9uRWxlbSA9IGNsb2NrRWxlbS5xdWVyeVNlbGVjdG9yKCcucG9tb2Rvcm8tY2xvY2tfX3Jlc2V0LWJ1dHRvbicpO1xuY29uc3QgY2xvY2tTZXR0aW5nc0VsZW0gPSBjbG9ja0VsZW0ucXVlcnlTZWxlY3RvcignLnNldHRpbmdzJyk7XG5jb25zdCB3b3JrRHVyYXRpb25FbGVtID0gY2xvY2tTZXR0aW5nc0VsZW0ucXVlcnlTZWxlY3RvcignI3dvcmstZHVyYXRpb24nKTtcblxubGV0IHN0YXJ0VGltZSA9IHdvcmtEdXJhdGlvbkVsZW0udmFsdWUgKiA2MDtcbmxldCB0aW1lID0gc3RhcnRUaW1lO1xubGV0IHRpY2tpbmcgPSBmYWxzZTtcbmxldCB0aWNrSW50ZXJ2YWxJRDtcblxuaW5pdCgpO1xuXG5mdW5jdGlvbiBpbml0KCkge1xuXHQvLyBSZW1vdmUgbm8tanMgY2xhc3Nlcy5cblx0Y2xvY2tFbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3BvbW9kb3JvLWNsb2NrLS1uby1qcycpO1xuXG5cdHJlbmRlclRpbWUoKTtcblxuXHQvLyBBZGQgZXZlbnQgbGlzdGVuZXJzLlxuXHRjbG9ja1RvZ2dsZUJ1dHRvbkVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b2dnbGUpO1xuXHRjbG9ja1Jlc2V0QnV0dG9uRWxlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlc2V0KTtcblx0Y2xvY2tTZXR0aW5nc0VsZW0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgaGFuZGxlU2V0dGluZ3NGb3JtU3VibWl0KTtcblx0d29ya0R1cmF0aW9uRWxlbS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBoYW5kbGVXb3JrRHVyYXRpb25DaGFuZ2UpO1xufVxuXG5mdW5jdGlvbiByZW5kZXJUaW1lKCkge1xuXHQvLyBtOnNzXG5cdGNvbnN0IHRpbWVTdHJpbmcgPSBgJHtNYXRoLmZsb29yKHRpbWUgLyA2MCl9OiR7bGVmdFBhZCh0aW1lICUgNjAsIDIsIDApfWA7XG5cblx0Y2xvY2tEaXNwbGF5RWxlbS5pbm5lckhUTUwgPSB0aW1lU3RyaW5nO1xufVxuXG5mdW5jdGlvbiBzdGFydCgpIHtcblx0Y2xvY2tUb2dnbGVCdXR0b25FbGVtLmlubmVySFRNTCA9ICdQYXVzZSc7XG5cdHRpY2tpbmcgPSB0cnVlO1xuXHR0aWNrKCk7XG5cdHRpY2tJbnRlcnZhbElEID0gd2luZG93LnNldEludGVydmFsKHRpY2ssIDEwMDApO1xufVxuXG5mdW5jdGlvbiBwYXVzZSgpIHtcblx0Y2xvY2tUb2dnbGVCdXR0b25FbGVtLmlubmVySFRNTCA9ICdTdGFydCc7XG5cdHRpY2tpbmcgPSBmYWxzZTtcblx0d2luZG93LmNsZWFySW50ZXJ2YWwodGlja0ludGVydmFsSUQpO1xufVxuXG5mdW5jdGlvbiByZXNldCgpIHtcblx0cGF1c2UoKTtcblx0dGltZSA9IHN0YXJ0VGltZTtcblx0cmVuZGVyVGltZSgpO1xufVxuXG5mdW5jdGlvbiBlbmQoKSB7XG5cdHJlc2V0KCk7XG5cdGFsZXJ0KGAke3N0YXJ0VGltZSAvIDYwfSBtaW51dGVzIGVsYXBzZWQhYCk7XG59XG5cbmZ1bmN0aW9uIHRpY2soKSB7XG5cdHRpbWUgLT0gMTtcblxuXHRyZW5kZXJUaW1lKCk7XG5cblx0aWYgKHRpbWUgPD0gMCkge1xuXHRcdGVuZCgpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZSgpIHtcblx0aWYgKHRpY2tpbmcpIHtcblx0XHRwYXVzZSgpO1xuXHR9IGVsc2Uge1xuXHRcdHN0YXJ0KCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlU2V0dGluZ3NGb3JtU3VibWl0KGUpIHtcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVXb3JrRHVyYXRpb25DaGFuZ2UoKSB7XG5cdHN0YXJ0VGltZSA9IHdvcmtEdXJhdGlvbkVsZW0udmFsdWUgKiA2MDtcblx0cmVzZXQoKTtcbn1cbiJdLCJuYW1lcyI6WyJsZXQiLCJjb25zdCJdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsU0FBUyxPQUFPLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxTQUFlLEVBQUU7c0NBQVIsR0FBRyxHQUFHOztDQUMvQ0EsSUFBSSxVQUFVLEdBQUcsTUFBTSxDQUFDOztDQUV4QixJQUFJLE9BQU8sVUFBVSxLQUFLLFFBQVEsRUFBRTtFQUNuQyxVQUFVLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0VBQ2hDOztDQUVELE9BQU8sVUFBVSxDQUFD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
